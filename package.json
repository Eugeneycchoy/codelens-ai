{
  "name": "dumbify",
  "displayName": "Dumbify",
  "version": "0.1.1",
  "description": "Dumb down confusing code with AI-powered explanations. Click, read, understandâ€”no more head-scratching over cryptic functions.",
  "publisher": "eugenechoy",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/Eugeneycchoy/codelens-ai.git"
  },
  "bugs": {
    "url": "https://github.com/Eugeneycchoy/codelens-ai/issues"
  },
  "homepage": "https://github.com/Eugeneycchoy/codelens-ai#readme",
  "icon": "icon.png",
  "engines": {
    "vscode": "^1.85.0"
  },
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./dist/extension.js",
  "categories": [
    "Programming Languages",
    "Machine Learning",
    "Other"
  ],
  "scripts": {
    "build": "node esbuild.config.js",
    "watch": "node esbuild.config.js --watch",
    "test": "vitest run",
    "test:watch": "vitest",
    "package": "vsce package",
    "validate": "node validate.js"
  },
  "dependencies": {
    "@anthropic-ai/sdk": "^0.30.0",
    "ai": "^3.0.0",
    "openai": "^4.0.0"
  },
  "devDependencies": {
    "@types/node": "^20.10.0",
    "@types/vscode": "^1.85.0",
    "@vscode/vsce": "^3.0.0",
    "esbuild": "^0.19.0",
    "typescript": "^5.3.0",
    "vitest": "^4.0.18"
  },
  "contributes": {
    "commands": [
      {
        "command": "codelens-ai.explainCode",
        "title": "Dumbify: Explain Selected Code"
      },
      {
        "command": "codelens-ai.retryHoverExplanation",
        "title": "Dumbify: Retry Hover Explanation"
      },
      {
        "command": "codelens-ai.statusBarClick",
        "title": "Dumbify: Show Menu"
      },
      {
        "command": "codelens-ai.prototype.selectMode",
        "title": "Dumbify: Select UI Mode"
      },
      {
        "command": "codelens-ai.quickPeek",
        "title": "Dumbify: Quick Peek Explanation"
      },
      {
        "command": "codelens-ai.inlinePeek",
        "title": "Dumbify: Inline Peek Explanation"
      },
      {
        "command": "codelens-ai.explainInPanel",
        "title": "Dumbify: Explain in Side Panel"
      },
      {
        "command": "codelens-ai.explainFloating",
        "title": "Dumbify: Explain in Floating Panel"
      },
      {
        "command": "codelens-ai.prototype.toggleCodeLens",
        "title": "Dumbify: Toggle CodeLens Annotations"
      },
      {
        "command": "codelens-ai.experiment.menu",
        "title": "Dumbify: Hover Experiments Menu"
      },
      {
        "command": "codelens-ai.experiment.stop",
        "title": "Dumbify: Stop Hover Experiment"
      },
      {
        "command": "codelens-ai.experiment.status",
        "title": "Dumbify: Show Experiment Status"
      },
      {
        "command": "codelens-ai.experiment.run.null-returning",
        "title": "Dumbify: Run Experiment - Null Returning"
      },
      {
        "command": "codelens-ai.experiment.run.always-return",
        "title": "Dumbify: Run Experiment - Always Return Hover"
      },
      {
        "command": "codelens-ai.experiment.run.conditional",
        "title": "Dumbify: Run Experiment - Conditional Hover"
      },
      {
        "command": "codelens-ai.experiment.run.multi-provider",
        "title": "Dumbify: Run Experiment - Multi Provider"
      },
      {
        "command": "codelens-ai.experiment.run.registration-order-high-first",
        "title": "Dumbify: Run Experiment - Registration Order (High First)"
      },
      {
        "command": "codelens-ai.experiment.run.registration-order-high-last",
        "title": "Dumbify: Run Experiment - Registration Order (High Last)"
      },
      {
        "command": "codelens-ai.experiment.run.registration-order-first-second-high",
        "title": "Dumbify: Run Experiment - Registration Order (Mixed)"
      },
      {
        "command": "codelens-ai.experiment.run.async",
        "title": "Dumbify: Run Experiment - Async Provider"
      },
      {
        "command": "codelens-ai.experiment.run.undefined",
        "title": "Dumbify: Run Experiment - Undefined Return"
      },
      {
        "command": "codelens-ai.experiment.run.empty-content",
        "title": "Dumbify: Run Experiment - Empty Content"
      }
    ],
    "views": {
      "explorer": [
        {
          "type": "webview",
          "id": "codelens-ai.explanationPanel",
          "name": "Dumbify",
          "when": "codelensAI.prototype.sidePanelEnabled"
        }
      ]
    },
    "keybindings": [
      {
        "command": "codelens-ai.quickPeek",
        "key": "ctrl+shift+e",
        "mac": "cmd+shift+e",
        "when": "editorTextFocus"
      },
      {
        "command": "codelens-ai.explainInPanel",
        "key": "ctrl+shift+alt+e",
        "mac": "cmd+shift+alt+e",
        "when": "editorTextFocus"
      }
    ],
    "configuration": {
      "title": "Dumbify",
      "properties": {
        "codelensAI.provider": {
          "type": "string",
          "enum": [
            "openai",
            "anthropic",
            "ollama"
          ],
          "description": "AI provider to use for code explanations."
        },
        "codelensAI.apiKey": {
          "type": "string",
          "description": "API key for the selected provider (not used for Ollama)."
        },
        "codelensAI.apiBase": {
          "type": "string",
          "default": "",
          "pattern": "^https?://[^\\s]+",
          "patternErrorMessage": "Must start with http:// or https://",
          "description": "Base URL for the API (e.g. https://api.zhihuiai.top/v1). Leave empty to use the provider's default endpoint."
        },
        "codelensAI.ollamaEndpoint": {
          "type": "string",
          "default": "http://localhost:11434",
          "description": "Ollama API endpoint URL."
        },
        "codelensAI.model": {
          "type": "string",
          "default": "gpt-4o-mini",
          "description": "Model name to use for explanations."
        },
        "codelensAI.highlightColor": {
          "type": "string",
          "default": "",
          "description": "Background color for the hover-highlighted code block (e.g. \"rgba(0, 128, 128, 0.2)\"). Leave empty to use theme-aware defaults (dark: teal 15%, light: teal 25%, high-contrast: white 10%)."
        },
        "codelensAI.enableExperiments": {
          "type": "boolean",
          "default": false,
          "description": "Enable experimental hover provider testing module. Only enable for development/testing purposes."
        },
        "codelensAI.prototype.mode": {
          "type": "string",
          "enum": [
            "hover",
            "codelens",
            "peek",
            "quickpeek",
            "inlinepeek",
            "sidepanel",
            "floatingpanel",
            "hybrid"
          ],
          "default": "hybrid",
          "enumDescriptions": [
            "Original hover tooltips (merged with VS Code hovers)",
            "Inline clickable annotations above code constructs",
            "Peek definition-style overlay using virtual documents",
            "Fast modal explanation using Quick Pick",
            "Inline decoration below the hovered line",
            "Persistent sidebar webview with history",
            "Floating webview panel beside the editor",
            "Combination of CodeLens + Side Panel"
          ],
          "description": "UI mode for displaying AI explanations. Each mode offers different trade-offs."
        },
        "codelensAI.prototype.sidePanelEnabled": {
          "type": "boolean",
          "default": true,
          "description": "Show the Dumbify panel in the Explorer sidebar."
        },
        "codelensAI.prototype.enablePrototypes": {
          "type": "boolean",
          "default": true,
          "description": "Enable UI prototype alternatives (CodeLens, Peek View, Side Panel). Set to false to disable alternative UI modes."
        }
      }
    }
  }
}
